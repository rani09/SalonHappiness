<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Salon Happiness</title>

    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <!--
    CSS
    ============================================= -->
    <link rel="stylesheet" href="~/Content/vendors/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="~/Content/vendors/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="~/Content/vendors/themify-icons/themify-icons.css">
    <link rel="stylesheet" href="~/Content/vendors/flat-icon/flaticon.css">
    <link rel="stylesheet" href="~/Content/vendors/nice-select/nice-select.css">
    <link rel="stylesheet" href="~/Content/vendors/Magnific-Popup/magnific-popup.css">
    <link rel="stylesheet" href="~/Content/vendors/OwlCarousel/owl.theme.default.min.css">
    <link rel="stylesheet" href="~/Content/vendors/OwlCarousel/owl.carousel.min.css">
    <link href="~/Content/PagedList.css" rel="stylesheet" />
    <link href="~/Content/css/SalonHappiness.css" rel="stylesheet" />
    <link href="~/Content/jquery.datetimepicker.css" rel="stylesheet" />
    <link href="~/Content/sweetalert.css" rel="stylesheet" />
    <!--
    Google Font
    =========================== -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,600,700" rel="stylesheet">
</head>
<body id="page-top">
    <!-- ================ start header Area ================= -->
    <div id="sticky-wrapper" class="sticky-wrapper is-sticky" style="height: 80.8px;">
        <header class="header_area sticky-header" style="width: 1519.2px; position: fixed; top: 0px; z-index: inherit;">
            <div class="main_menu">
                <nav class="navbar navbar-expand-lg navbar-light main_box">
                    <div class="container">
                        <!-- Brand and toggle get grouped for better mobile display -->
                        <a class="navbar-brand logo_h" href="@Url.Action("Index", "Home")"><img src="~/Content/img/HappinesLogo.png" alt=""></a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <!-- Collect the nav links, forms, and other content for toggling -->
                        <div class="collapse navbar-collapse offset" id="navbarSupportedContent">
                            <ul class="nav navbar-nav menu_nav ml-auto">
                                <li class="nav-item active">@Html.ActionLink("FORSIDE", "Index", "Home", null, new { @class = "nav-link" })</li>
                                <li class="nav-item">@Html.ActionLink("OM OS", "About", "Home", null, new { @class = "nav-link" })</li>
                                <li class="nav-item">@Html.ActionLink("KONTAKT", "Contact", "Home", null, new { @class = "nav-link" })</li>

                                <li class="nav-item submenu dropdown">
                                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">KONTO</a>
                                    <ul class="dropdown-menu">
                                        @Html.Partial("_LoginPartial")
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
        </header>
    </div>
    <main class="site-main">
        @RenderBody()
    </main>
    <!-- ================ start footer Area ================= -->
    <footer class="footer-area section-gap">
        <div class="container">
            <div class="row">
                <div class="col-xl-3 col-sm-6 mb-4 mb-xl-0 single-footer-widget">
                    <h4><img src="~/Content/img/OnlyLogo.png" /> Salon Happiness</h4>
                    <ul>
                        <li><a href="@Url.Action("Index", "Home")"><i class="fa fa-home"></i> Forside</a></li>
                        <li><a href="@Url.Action("About", "Home")"><i class="fa fa-address-card"></i> Om os</a></li>
                        <li><a href="@Url.Action("Contact", "Home")"><i class="fa fa-envelope"></i> Kontakt os</a></li>
                        <li><a href="@Url.Action("Login", "Account")"><i class="fa fa-sign-in-alt"></i> Log ind</a></li>
                        <li><a href="@Url.Action("Register", "Account")"><i class="fa fa-list-alt"></i> Tilmeld</a></li>
                    </ul>
                </div>
                <div class="col-xl-3 col-sm-6 mb-4 mb-xl-0 single-footer-widget">
                    <h4>Kontaktoplysninger</h4>
                    @Html.Action("_Contract", "Home", new SalonHappiness.Models.Contract())
                </div>
                <div class="col-xl-3 col-sm-6 mb-4 mb-xl-0 single-footer-widget">
                    <h4>Facebook</h4>
                    <h6 style="margin-top:20px; color:white">Like os</h6>
                    <div class="fb-like" data-href="https://www.facebook.com/Salon-Happiness-278060699597489/" data-width="10" data-layout="standard" data-action="like" data-size="large" data-share="false"></div>
                    <h6 style="margin-top:20px; color:white">Del os</h6>
                    <div class="fb-share-button" data-href="https://www.facebook.com/Salon-Happiness-278060699597489/" data-layout="button_count" data-size="large"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.facebook.com%2FSalon-Happiness-278060699597489%2F&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">Del</a></div>
                </div>
                <div class="col-xl-3 col-sm-6 mb-4 mb-xl-0 single-footer-widget">
                    <div class="fb-post" data-href="https://www.facebook.com/pia.m.nielsen.33/posts/10158042036178046" data-width="350" data-show-text="true">
                        <blockquote cite="https://www.facebook.com/pia.m.nielsen.33/posts/10158042036178046" class="fb-xfbml-parse-ignore">
                            <p>
                                Vildt god til børn, mega hurtig og flot hår!

                                Min 3årige søn er lige blevet klippet, og selvom han var nervøs og lidt...
                            </p>Slået op af <a href="#" role="button">Pia Marie Cook Nielsen</a> i&nbsp;<a href="https://www.facebook.com/pia.m.nielsen.33/posts/10158042036178046">Lørdag den 16. maj 2020</a>
                        </blockquote>
                    </div>
                </div>
            </div>
            <a href="" class="text-danger" data-toggle="modal" data-target="#betingelser">
                Betingelser
            </a> | <a class="text-light" href="@Url.Action("Samtykke","Home")">Samtykke</a>
            <div class="modal fade" id="betingelser" tabindex="-1" role="dialog" aria-labelledby="betingelser" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalScrollableTitle">Betingelser</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            @Html.Action("_Betingelse", "Home", new SalonHappiness.Models.Samtykke())
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Luk</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom row align-items-center text-center text-lg-left">
                <p class="footer-text m-0 col-lg-8 col-md-12">
                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    Copyright © @DateTime.Now.Year Alle rettigheder forbeholdes | Salon Happiness
                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                </p>
                <div class="col-lg-4 col-md-12 text-center text-lg-right footer-social">
                    <a href="https://www.facebook.com/Salon-Happiness-278060699597489" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
    </footer>
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>
    <!-- ================ End footer Area ================= -->
    @*<p>&copy; @DateTime.Now.Year - My ASP.NET Application</p>*@


    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)


    <!--
    JavaScripts
    ========================== -->
    <script src="~/Content/vendors/jquery/jquery-3.2.1.min.js"></script>
    <script src="~/Scripts/jquery-ui-1.12.1.min.js"></script>
    <script src="~/Scripts/jquery.validate.js"></script>
    <script src="~/Scripts/moment.js"></script>
    <script src="~/Scripts/jquery.datetimepicker.js"></script>
    <script src="~/Content/vendors/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="~/Content/vendors/OwlCarousel/owl.carousel.min.js"></script>
    <script src="~/Content/vendors/sticky/jquery.sticky.js"></script>
    <script src="~/Scripts/js/jquery.ajaxchimp.min.js"></script>
    <script src="~/Content/vendors/Magnific-Popup/jquery.magnific-popup.min.js"></script>
    <script src="~/Scripts/js/main.js"></script>
    <script src="~/Scripts/js/OpenTime.js"></script>
    <script src="~/Scripts/js/Select.js"></script>
    <script src="~/Scripts/booking.js"></script>
    <script src="~/Scripts/sweetalert.min.js"></script>
    @Html.Partial("_Notify")
    <script type="text/javascript">

        //console.clear();

        var schedule_week = ["09:30", "09:45", "10:00", "10:15", "10:30", "10:45", "11:00",
            "11:15", "11:30", "11:45", "12:00", "12:15", "12:30", "12:45", "13:00", "13:15",
            "13:30", "13:45", "14:00", "14:15", "14:30", "14:45", "15:00", "15:15", "15:30",
            "15:45", "16:00", "16:15", "16:30", "16:45", "17:00", "17:15", "17:30"];


        var schedule_saturday = ["09:00", "09:15", "09:30", "09:45", "10:00", "10:15", "10:30", "10:45", "11:00",
            "11:15", "11:30", "11:45", "12:00", "12:15", "12:30", "12:45", "13:00", "13:15",
            "13:30", "13:45", "14:00"];

        var prev_dayNum;
        var schedule_used = schedule_week;  // Use the week schedule by default.

        // Function to initialise the time picker input.
        function initTime() {
            $('#timePicker').datetimepicker({
                inline: true,
                format: 'H:i',
                datepicker: false,
                step: 15,
                allowTimes: schedule_used
            });
        }
        // On load time initialisation.
        initTime();
        $('#datePicker').datetimepicker({
            inline: true,
            format: 'd/m/Y',
            disabledWeekDays: [0],
            step: 15,
            lang: 'da',
            minDate: 0,
            validateOnBlur: false,
            timepicker: false,
            dayOfWeekStart: 1,

            // On change callback
            onChangeDateTime: function (dp, $input) {

                var dateVal = $input.val();
                var timeVal = $('#timePicker').val();
                //console.log(dateVal + " - " + (timeVal || "No Time"));

                // Because of the d/m/Y format, have to process the date a bit to get the day number.
                val = dateVal.split("/");
                var dayNum = new Date(val[2] + "/" + val[1] + "/" + val[0]).getDay();
                //console.log("dayNum: " + dayNum);

                // if dayNum is zero (sunday), use sunday schedule... Else use the week schedule.
                schedule_used = (dayNum == 6) ? schedule_saturday : schedule_week;

                // If the dayNum changed.
                if (prev_dayNum != dayNum) {
                    //console.log("Changed day!");
                    // Re-initialise datetimepicker
                    $('#timePicker').datetimepicker("destroy");
                    initTime();

                    // If the actual time value is not in schedule.
                    if ($.inArray(timeVal, schedule_used) == -1) {
                        //console.log("Wrong time!");
                        // Clear the time value.
                        $('#timePicker').val("");
                        // Focus the time input so it's obvious the user has to re-select a time.
                        $('#timePicker').focus();
                    }
                }
            }
        });
    </script>
    <script type="text/javascript">
        $(document).ready(function () {

            $.validator.addMethod('ArrivelDate', function (value, element, param) {
                var dateRegex = /^([0-2][0-9]|(3)[0-1])(\/)(((0)[0-9])|((1)[0-2]))(\/)\d{4}$/;
                return value.match(dateRegex);
            }, 'Indtast venligst en gyldig dato!');

            $.validator.addMethod('ArrivelTime', function (value, element, param) {
                var timeRegex = /^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/;
                return value.match(timeRegex);
            }, 'Indtast venligst en gyldig tid!');

            $.validator.addMethod("checkboxRequired", function (val, element, param) {
                return param && $(param).is(':checked')
            }, "Vælg mindst 1 af services");

            jQuery.validator.addClassRules('checkbox-validate', {
                checkboxRequired: '.checkbox-validate'
            });
            var val = {
                // Specify validation rules
                rules: {
                    ArrivelDate:
                    {
                        required: true
                    },
                    ArrivelTime:
                    {
                        required: true
                    }
                },
                // Specify validation error messages
                messages: {
                    ArrivelDate:
                    {
                        required: "vælg en dato fra kalender"
                    },
                    ArrivelTime:
                    {
                        required: "vælg en tid fra listen"
                    }
                },
                errorPlacement: function (error, element) {
                    if (element.hasClass('checkbox-validate')) {
                        element.closest('.form-group').find('.error-holder').html(error)
                    } else {
                        error.insertAfter(element);
                    }
                }
            }
            $("#myForm").multiStepForm({

                validations: val,
            }
            ).navigateTo(0);
        });
        function myFunction() {

            var x = document.getElementById("datePicker");
            var div = document.getElementById('date-result');
            div.innerHTML = x.value;

            var y = document.getElementById("timePicker");
            var t = document.getElementById('time-result');
            t.innerHTML = y.value;
        }

        function updateTextArea() {
            var allVals = [];
            $('#check_container_div :checked').each(function () {
                allVals.push($(this).attr('id'));
            });
            $('#service-result').val(allVals);
        }
        $(function () {
            $('#check_container_div input').click(updateTextArea);
            updateTextArea();
        });

        var arr = $('#check_container_div :checked').map(function () {
            return $(this).val();
        });
        $('#service-result').val(arr + "\n" + arr[0] + "\n" + arr.length);


        $('#check_container_div :checkbox').on('change', function () {
            var result = "";
            var how_many_checked = $('#check_container_div :checkbox:checked').length;

            $('#check_container_div :checked').each(function (index, value) {
                result += $(this).attr('id') + "\n";

            });
            $('#service-result').val(result);
        });

    </script>
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/da_DK/sdk.js#xfbml=1&version=v9.0&appId=2687345101518471&autoLogAppEvents=1" nonce="gSsWgqKq"></script>
    @*<script type="text/javascript">

            function statusChangeCallback(response) {  // Called with the results from FB.getLoginStatus().
                console.log('statusChangeCallback');
                console.log(response);                   // The current login status of the person.
                if (response.status === 'connected') {   // Logged into your webpage and Facebook.
                    testAPI();
                } else {                                 // Not logged into your webpage or we are unable to tell.
                    document.getElementById('status').innerHTML = 'Please log ' +
                        'into this webpage.';
                }
            }


            function checkLoginState() {               // Called when a person is finished with the Login Button.
                FB.getLoginStatus(function (response) {   // See the onlogin handler
                    statusChangeCallback(response);
                });
            }


            window.fbAsyncInit = function () {
                FB.init({
                    appId: '2687345101518471',
                    cookie: true,                     // Enable cookies to allow the server to access the session.
                    xfbml: true,                     // Parse social plugins on this webpage.
                    version: 'v9.0'           // Use this Graph API version for this call.
                });


                FB.getLoginStatus(function (response) {   // Called after the JS SDK has been initialized.
                    statusChangeCallback(response);        // Returns the login status.
                });
            };

            function testAPI() {                      // Testing Graph API after login.  See statusChangeCallback() for when this call is made.
                console.log('Welcome!  Fetching your information.... ');
                FB.api('/me', function (response) {
                    console.log('Successful login for: ' + response.name);
                    document.getElementById('status').innerHTML =
                        'Thanks for logging in, ' + response.name + '!';
                });
            }

        </script>*@
    <script type="text/javascript">
        $(document).on('scroll', function () {
            var scrollDistance = $(this).scrollTop();
            if (scrollDistance > 100) {
                $('.scroll-to-top').fadeIn();
            } else {
                $('.scroll-to-top').fadeOut();
            }
        });
    </script>

</body>
</html>
